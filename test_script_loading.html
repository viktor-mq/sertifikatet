<!DOCTYPE html>
<html>
<head>
    <title>Script Loading Test</title>
</head>
<body>
    <h1>Script Loading Test</h1>
    <div id="test-results"></div>
    
    <!-- Test if script loads when added dynamically -->
    <script>
        console.log('üß™ Test script started');
        
        // Test 1: Try loading gamification.js dynamically
        const script = document.createElement('script');
        script.src = '/static/js/gamification.js';
        script.onload = function() {
            console.log('‚úÖ Gamification.js loaded successfully via dynamic injection');
            document.getElementById('test-results').innerHTML += '<p style="color: green;">‚úÖ gamification.js loaded dynamically</p>';
        };
        script.onerror = function() {
            console.log('‚ùå Gamification.js failed to load via dynamic injection');
            document.getElementById('test-results').innerHTML += '<p style="color: red;">‚ùå gamification.js failed to load dynamically</p>';
        };
        document.head.appendChild(script);
        
        // Test 2: Try fetch API
        fetch('/static/js/gamification.js')
            .then(response => {
                if (response.ok) {
                    console.log('‚úÖ Gamification.js accessible via fetch');
                    document.getElementById('test-results').innerHTML += '<p style="color: green;">‚úÖ gamification.js accessible via fetch</p>';
                    return response.text();
                } else {
                    throw new Error(`HTTP ${response.status}`);
                }
            })
            .then(content => {
                console.log('üìÑ File content length:', content.length);
                document.getElementById('test-results').innerHTML += `<p>üìÑ File content length: ${content.length} characters</p>`;
            })
            .catch(error => {
                console.log('‚ùå Fetch failed:', error);
                document.getElementById('test-results').innerHTML += `<p style="color: red;">‚ùå Fetch failed: ${error}</p>`;
            });
    </script>
    
    <!-- Test 3: Normal script tag -->
    <script src="/static/js/gamification.js"></script>
    
    <script>
        // Check if it loaded
        setTimeout(() => {
            if (window.GamificationUpdater) {
                console.log('‚úÖ GamificationUpdater available');
                document.getElementById('test-results').innerHTML += '<p style="color: green;">‚úÖ GamificationUpdater class available</p>';
            } else {
                console.log('‚ùå GamificationUpdater NOT available');
                document.getElementById('test-results').innerHTML += '<p style="color: red;">‚ùå GamificationUpdater class NOT available</p>';
            }
        }, 1000);
    </script>
</body>
</html>