<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <title>Adminpanel</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
</head>
<body>
    <header class="admin-header" style="padding: 10px 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); display: flex; align-items: center; justify-content: space-between;">
      <div style="display: flex; align-items: center;">
        <a href="{{ url_for('main.index') }}">
          <img src="{{ url_for('static', filename='images/profiles/selskapslogo.png') }}"
               alt="Sertifikatet Logo"
               style="height: 40px; margin-right: 15px;">
        </a>
        <h1 style="font-size: 1.5rem; margin: 0; color: rgb(251, 191, 36)">Adminpanelet</h1>
      </div>
      <div>
        <a href="{{ url_for('auth.logout') }}" style="color: rgba(255, 255, 255, 0.885); text-decoration: none; font-weight: bold; margin-right: 60px;">
          Logg ut
        </a>
      </div>
    </header>
    
    <div class="container">

        <div class="section-tabs">
            <a href="#" class="btn active" onclick="showSection('questions')" id="questionsTab">ðŸ“‹ SpÃ¸rsmÃ¥l</a>
            <a href="#" class="btn" onclick="showSection('database')" id="databaseTab">ðŸ’¾ Database</a>
        </div>

        <!-- Questions Section -->
        {% include 'admin/questions.html' %}

        <!-- Database Section -->
        {% include 'admin/database_section.html' %}
    </div>

    <script>
        // Section management
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.section-tabs .btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected section
            const selectedSection = document.getElementById(sectionName + 'Section');
            if (selectedSection) {
                selectedSection.classList.add('active');
            }
            
            // Add active class to selected tab
            const selectedTab = document.getElementById(sectionName + 'Tab');
            if (selectedTab) {
                selectedTab.classList.add('active');
            }
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Show section that is already marked as active, or default to 'questions'
            const defaultSection = document.querySelector('.section.active')?.id?.replace('Section', '') || 'questions';
            showSection(defaultSection);
        });
    </script>
    
    <footer class="admin-footer" style="padding: 15px 20px; text-align: center; margin-top: 40px;">
        <p style="margin: 0; font-size: 0.9rem; color: rgb(176, 175, 175);">
            &copy; <span id="currentYear"></span> Sertifikatet. All rights reserved.
        </p>
    </footer>
    
    <script>
        // Set current year in footer
        document.addEventListener('DOMContentLoaded', function() {
            var yearSpan = document.getElementById('currentYear');
            if (yearSpan) {
                yearSpan.textContent = new Date().getFullYear();
            }
        });
    </script>
</body>
</html>