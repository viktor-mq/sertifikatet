<!-- Gamification Management Section - Integrated into Admin Dashboard -->
<div id="gamificationSection" class="section">
    <!-- Overview Statistics Cards -->
    <div class="stats-container">
        <div class="stat-card">
            <h3 data-stat="total_tournaments">0</h3>
            <p>Total Tournaments</p>
        </div>
        <div class="stat-card">
            <h3 data-stat="total_challenges">0</h3>
            <p>Total Challenges</p>
        </div>
        <div class="stat-card">
            <h3 data-stat="total_achievements">0</h3>
            <p>Total Achievements</p>
        </div>
        <div class="stat-card">
            <h3 data-stat="gamified_users">0</h3>
            <p>Active Users</p>
        </div>
    </div>

    <!-- Main Content Container -->
    <div style="max-width: 1200px; margin: 0 auto; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
        <!-- Header -->
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
            <h2 style="margin: 0; color: #333; font-size: 1.8rem;">üéÆ Gamification Management</h2>
            <div style="display: flex; gap: 10px;">
                <button onclick="refreshGamificationOverview()" class="btn" style="
                    background: #28a745; 
                    color: white; 
                    padding: 8px 16px; 
                    border: none; 
                    border-radius: 4px; 
                    cursor: pointer;
                ">
                    <i class="fas fa-sync-alt"></i> Refresh
                </button>
            </div>
        </div>

        <!-- Gamification Sub-sections Tabs -->
        <div class="gamification-tabs" style="border-bottom: 2px solid #e5e7eb; margin-bottom: 20px;">
            <button class="gamification-tab active" onclick="showGamificationTab('tournaments')" data-tab="tournaments">
                üèÜ Tournaments
            </button>
            <button class="gamification-tab" onclick="showGamificationTab('challenges')" data-tab="challenges">
                üéØ Daily Challenges
            </button>
            <button class="gamification-tab" onclick="showGamificationTab('achievements')" data-tab="achievements">
                üèÖ Achievements
            </button>
            <button class="gamification-tab" onclick="showGamificationTab('games')" data-tab="games">
                üéÆ Games
            </button>
            <button class="gamification-tab" onclick="showGamificationTab('xprewards')" data-tab="xprewards">
                ‚≠ê XP Rewards
            </button>
        </div>

        <!-- Tournament Management Tab -->
        <div id="tournaments-tab" class="gamification-tab-content active">
            <!-- Tournament Statistics -->
            <div class="stats-container" style="margin-bottom: 20px;">
                <div class="stat-card">
                    <h3 data-stat="tournaments_total">0</h3>
                    <p>Total Tournaments</p>
                </div>
                <div class="stat-card">
                    <h3 data-stat="tournaments_active">0</h3>
                    <p>Active</p>
                </div>
                <div class="stat-card">
                    <h3 data-stat="tournaments_participants">0</h3>
                    <p>Total Participants</p>
                </div>
            </div>

            <!-- Tournament Controls -->
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3 style="margin: 0;">Tournament Management</h3>
                <button onclick="openTournamentModal()" class="btn" style="
                    background: #007bff; 
                    color: white; 
                    padding: 8px 16px; 
                    border: none; 
                    border-radius: 4px; 
                    cursor: pointer;
                ">
                    <i class="fas fa-plus"></i> Create Tournament
                </button>
            </div>

            <!-- Tournament Filters -->
            <div style="border: 1px solid #e0e0e0; border-radius: 8px; margin-bottom: 20px; background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                <div style="background: #f8f9fa; padding: 15px; border-bottom: 1px solid #e0e0e0; border-radius: 8px 8px 0 0;">
                    <h6 style="margin: 0; font-weight: bold; color: #007bff;">Tournament Filters</h6>
                </div>
                <div style="padding: 20px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr auto; gap: 15px; align-items: end;">
                        <div>
                            <label style="font-weight: bold; margin-bottom: 5px; display: block;">Status</label>
                            <select id="tournament-status-filter" style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
                                <option value="">All Statuses</option>
                                <option value="active">Active</option>
                                <option value="upcoming">Upcoming</option>
                                <option value="completed">Completed</option>
                                <option value="inactive">Inactive</option>
                            </select>
                        </div>
                        <div>
                            <label for="tournament-search" style="font-weight: bold; margin-bottom: 5px; display: block;">Search</label>
                            <input type="text" id="tournament-search" placeholder="Search tournaments..." 
                                   style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
                        </div>
                        <div>
                            <button type="button" onclick="applyTournamentFilters()" style="
                                background: #007bff; 
                                color: white; 
                                padding: 8px 16px; 
                                border: none; 
                                border-radius: 4px; 
                                cursor: pointer;
                            ">Filter</button>
                        </div>
                        <div>
                            <button type="button" onclick="clearTournamentFilters()" style="
                                background: #6c757d; 
                                color: white; 
                                padding: 8px 16px; 
                                border: none; 
                                border-radius: 4px; 
                                cursor: pointer;
                            ">Clear</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tournament Table -->
            <div style="border: 1px solid #e0e0e0; border-radius: 8px; background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                <div style="background: #f8f9fa; padding: 15px; border-bottom: 1px solid #e0e0e0; border-radius: 8px 8px 0 0;">
                    <h6 style="margin: 0; font-weight: bold; color: #007bff;">Tournaments</h6>
                </div>
                <div style="padding: 20px;">
                    <div style="overflow-x: auto;">
                        <table id="tournament-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);">
                            <thead>
                                <tr>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Name</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Type</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Status</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Participants</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Prize Pool</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="tournament-tbody">
                                <!-- Dynamic content loaded via AJAX -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Tournament Pagination -->
                    <div class="pagination-controls" style="margin-top: 20px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;">
                        <div class="pagination-info" style="color: #374151; font-size: 14px;">
                            <span id="tournaments-pagination-info">Showing tournaments</span>
                        </div>
                        <div class="pagination-center" style="display: flex; justify-content: center; flex: 1;">
                            <div class="pagination-buttons" id="tournament-pagination" style="display: inline-flex; gap: 5px; align-items: center;">
                                <!-- Dynamic pagination loaded via AJAX -->
                            </div>
                        </div>
                        <div class="pagination-per-page" style="display: flex; align-items: center; gap: 8px; color: #374151; font-size: 14px;">
                            <label>Show per page:</label>
                            <select id="tournamentsPerPageSelector" style="padding: 6px 10px; border: 1px solid #d1d5db; border-radius: 4px; background: white; font-size: 14px;">
                                <option value="20" selected>20</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                                <option value="-1">Alle</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Daily Challenges Management Tab -->
        <div id="challenges-tab" class="gamification-tab-content">
            <!-- Challenge Statistics -->
            <div class="stats-container" style="margin-bottom: 20px;">
                <div class="stat-card">
                    <h3 data-stat="challenges_total">0</h3>
                    <p>Total Challenges</p>
                </div>
                <div class="stat-card">
                    <h3 data-stat="challenges_active">0</h3>
                    <p>Active Today</p>
                </div>
                <div class="stat-card">
                    <h3 data-stat="challenges_completion_rate">0%</h3>
                    <p>Avg Completion Rate</p>
                </div>
            </div>

            <!-- Challenge Controls -->
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3 style="margin: 0;">Daily Challenge Management</h3>
                <button onclick="openDailyChallengeModal()" class="btn" style="
                    background: #007bff; 
                    color: white; 
                    padding: 8px 16px; 
                    border: none; 
                    border-radius: 4px; 
                    cursor: pointer;
                ">
                    <i class="fas fa-plus"></i> Create Challenge
                </button>
            </div>

            <!-- Challenge Filters -->
            <div style="border: 1px solid #e0e0e0; border-radius: 8px; margin-bottom: 20px; background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                <div style="background: #f8f9fa; padding: 15px; border-bottom: 1px solid #e0e0e0; border-radius: 8px 8px 0 0;">
                    <h6 style="margin: 0; font-weight: bold; color: #007bff;">Challenge Filters</h6>
                </div>
                <div style="padding: 20px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr auto; gap: 15px; align-items: end;">
                        <div>
                            <label style="font-weight: bold; margin-bottom: 5px; display: block;">Type</label>
                            <select id="challenge-type-filter" style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
                                <option value="">All Types</option>
                                <option value="quiz">Quiz</option>
                                <option value="streak">Streak</option>
                                <option value="perfect_score">Perfect Score</option>
                                <option value="category_focus">Category Focus</option>
                            </select>
                        </div>
                        <div>
                            <label style="font-weight: bold; margin-bottom: 5px; display: block;">Date</label>
                            <select id="challenge-date-filter" style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
                                <option value="">All Dates</option>
                                <option value="today">Today</option>
                                <option value="active">Active Only</option>
                                <option value="past_week">Past Week</option>
                            </select>
                        </div>
                        <div>
                            <label for="challenge-search" style="font-weight: bold; margin-bottom: 5px; display: block;">Search</label>
                            <input type="text" id="challenge-search" placeholder="Search challenges..." 
                                   style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
                        </div>
                        <div>
                            <button type="button" onclick="applyDailyChallengeFilters()" style="
                                background: #007bff; 
                                color: white; 
                                padding: 8px 16px; 
                                border: none; 
                                border-radius: 4px; 
                                cursor: pointer;
                            ">Filter</button>
                        </div>
                        <div>
                            <button type="button" onclick="clearDailyChallengeFilters()" style="
                                background: #6c757d; 
                                color: white; 
                                padding: 8px 16px; 
                                border: none; 
                                border-radius: 4px; 
                                cursor: pointer;
                            ">Clear</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Challenge Table -->
            <div style="border: 1px solid #e0e0e0; border-radius: 8px; background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                <div style="background: #f8f9fa; padding: 15px; border-bottom: 1px solid #e0e0e0; border-radius: 8px 8px 0 0;">
                    <h6 style="margin: 0; font-weight: bold; color: #007bff;">Daily Challenges</h6>
                </div>
                <div style="padding: 20px;">
                    <div style="overflow-x: auto;">
                        <table id="challenge-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);">
                            <thead>
                                <tr>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Title</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Type</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Date</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Requirement</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">XP Reward</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Completion</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="challenge-tbody">
                                <!-- Dynamic content loaded via AJAX -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Challenge Pagination -->
                    <div class="pagination-controls" style="margin-top: 20px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;">
                        <div class="pagination-info" style="color: #374151; font-size: 14px;">
                            <span id="challenges-pagination-info">Showing challenges</span>
                        </div>
                        <div class="pagination-center" style="display: flex; justify-content: center; flex: 1;">
                            <div class="pagination-buttons" id="challenge-pagination" style="display: inline-flex; gap: 5px; align-items: center;">
                                <!-- Dynamic pagination loaded via AJAX -->
                            </div>
                        </div>
                        <div class="pagination-per-page" style="display: flex; align-items: center; gap: 8px; color: #374151; font-size: 14px;">
                            <label>Show per page:</label>
                            <select id="challengesPerPageSelector" style="padding: 6px 10px; border: 1px solid #d1d5db; border-radius: 4px; background: white; font-size: 14px;">
                                <option value="20" selected>20</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                                <option value="-1">Alle</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Achievements Management Tab -->
        <div id="achievements-tab" class="gamification-tab-content">
            <!-- Achievement Statistics -->
            <div class="stats-container" style="margin-bottom: 20px;">
                <div class="stat-card">
                    <h3 data-stat="achievements_total">0</h3>
                    <p>Total Achievements</p>
                </div>
                <div class="stat-card">
                    <h3 data-stat="achievements_earned">0</h3>
                    <p>Total Earned</p>
                </div>
                <div class="stat-card">
                    <h3 data-stat="achievements_achievers">0</h3>
                    <p>Unique Achievers</p>
                </div>
            </div>

            <!-- Achievement Controls -->
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3 style="margin: 0;">Achievement Management</h3>
                <button onclick="openAchievementModal()" class="btn" style="
                    background: #007bff; 
                    color: white; 
                    padding: 8px 16px; 
                    border: none; 
                    border-radius: 4px; 
                    cursor: pointer;
                ">
                    <i class="fas fa-plus"></i> Create Achievement
                </button>
            </div>

            <!-- Achievement Filters -->
            <div style="border: 1px solid #e0e0e0; border-radius: 8px; margin-bottom: 20px; background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                <div style="background: #f8f9fa; padding: 15px; border-bottom: 1px solid #e0e0e0; border-radius: 8px 8px 0 0;">
                    <h6 style="margin: 0; font-weight: bold; color: #007bff;">Achievement Filters</h6>
                </div>
                <div style="padding: 20px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr auto; gap: 15px; align-items: end;">
                        <div>
                            <label style="font-weight: bold; margin-bottom: 5px; display: block;">Category</label>
                            <select id="achievement-category-filter" style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
                                <option value="">All Categories</option>
                                <option value="quiz">Quiz</option>
                                <option value="streak">Streak</option>
                                <option value="learning">Learning</option>
                                <option value="social">Social</option>
                            </select>
                        </div>
                        <div>
                            <label for="achievement-search" style="font-weight: bold; margin-bottom: 5px; display: block;">Search</label>
                            <input type="text" id="achievement-search" placeholder="Search achievements..." 
                                   style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
                        </div>
                        <div>
                            <button type="button" onclick="applyAchievementFilters()" style="
                                background: #007bff; 
                                color: white; 
                                padding: 8px 16px; 
                                border: none; 
                                border-radius: 4px; 
                                cursor: pointer;
                            ">Filter</button>
                            <button type="button" onclick="clearAchievementFilters()" style="
                                background: #6c757d; 
                                color: white; 
                                padding: 8px 16px; 
                                border: none; 
                                border-radius: 4px; 
                                cursor: pointer;
                                margin-left: 5px;
                            ">Clear</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Achievement Table -->
            <div style="border: 1px solid #e0e0e0; border-radius: 8px; background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                <div style="background: #f8f9fa; padding: 15px; border-bottom: 1px solid #e0e0e0; border-radius: 8px 8px 0 0;">
                    <h6 style="margin: 0; font-weight: bold; color: #007bff;">Achievements</h6>
                </div>
                <div style="padding: 20px;">
                    <div style="overflow-x: auto;">
                        <table id="achievement-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);">
                            <thead>
                                <tr>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Name</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Category</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Requirement</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Points</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Users Earned</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="achievement-tbody">
                                <!-- Dynamic content loaded via AJAX -->
                            </tbody>
                        </table>
                    </div>
                    
                    <!-- Achievement Pagination -->
                    <div class="pagination-controls" style="margin-top: 20px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;">
                        <div class="pagination-info" style="color: #374151; font-size: 14px;">
                            <span id="achievements-pagination-info">Showing achievements</span>
                        </div>
                        <div class="pagination-center" style="display: flex; justify-content: center; flex: 1;">
                            <div class="pagination-buttons" id="achievement-pagination" style="display: inline-flex; gap: 5px; align-items: center;">
                                <!-- Dynamic pagination loaded via AJAX -->
                            </div>
                        </div>
                        <div class="pagination-per-page" style="display: flex; align-items: center; gap: 8px; color: #374151; font-size: 14px;">
                            <label>Show per page:</label>
                            <select id="achievementsPerPageSelector" style="padding: 6px 10px; border: 1px solid #d1d5db; border-radius: 4px; background: white; font-size: 14px;">
                                <option value="20" selected>20</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                                <option value="-1">Alle</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Games Management Tab -->
        <div id="games-tab" class="gamification-tab-content">
            <!-- Game Statistics -->
            <div class="stats-container" style="margin-bottom: 20px;">
                <div class="stat-card">
                    <h3 data-stat="games_total">0</h3>
                    <p>Total Games</p>
                </div>
                <div class="stat-card">
                    <h3 data-stat="games_active">0</h3>
                    <p>Active Games</p>
                </div>
                <div class="stat-card">
                    <h3 data-stat="game_scenarios_total">0</h3>
                    <p>Total Scenarios</p>
                </div>
                <div class="stat-card">
                    <h3 data-stat="game_sessions_today">0</h3>
                    <p>Sessions Today</p>
                </div>
            </div>

            <!-- Games Sub-tabs -->
            <div class="games-subtabs" style="border-bottom: 1px solid #e5e7eb; margin-bottom: 20px;">
                <button class="games-subtab active" onclick="showGamesSubtab('scenarios')" data-subtab="scenarios">
                    üß© Game Scenarios
                </button>
                <button class="games-subtab" onclick="showGamesSubtab('sessions')" data-subtab="sessions">
                    üìä Game Sessions
                </button>
                <button class="games-subtab" onclick="showGamesSubtab('analytics')" data-subtab="analytics">
                    üìà Game Analytics
                </button>
            </div>

            <!-- Game Scenarios Management -->
            <div id="scenarios-subtab" class="games-subtab-content active">
                <!-- Scenario Controls -->
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h3 style="margin: 0;">Game Scenarios Management</h3>
                    <button onclick="openGameScenarioModal()" class="btn" style="
                        background: #007bff; 
                        color: white; 
                        padding: 8px 16px; 
                        border: none; 
                        border-radius: 4px; 
                        cursor: pointer;
                    ">
                        <i class="fas fa-plus"></i> Create Scenario
                    </button>
                </div>

                <!-- Scenario Filters -->
                <div style="border: 1px solid #e0e0e0; border-radius: 8px; margin-bottom: 20px; background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                    <div style="background: #f8f9fa; padding: 15px; border-bottom: 1px solid #e0e0e0; border-radius: 8px 8px 0 0;">
                        <h6 style="margin: 0; font-weight: bold; color: #007bff;">Scenario Filters</h6>
                    </div>
                    <div style="padding: 20px;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr auto; gap: 15px; align-items: end;">
                            <div>
                                <label style="font-weight: bold; margin-bottom: 5px; display: block;">Game Type</label>
                                <select id="scenario-type-filter" style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
                                    <option value="">All Games</option>
                                    <option value="rule_puzzle">Rule Puzzle</option>
                                    <option value="traffic_signs">Traffic Signs</option>
                                    <option value="memory_game">Memory Game</option>
                                    <option value="time_challenge">Time Challenge</option>
                                    <option value="multiplayer">Multiplayer</option>
                                </select>
                            </div>
                            <div>
                                <label style="font-weight: bold; margin-bottom: 5px; display: block;">Difficulty</label>
                                <select id="scenario-difficulty-filter" style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
                                    <option value="">All Difficulties</option>
                                    <option value="1">Easy (1)</option>
                                    <option value="2">Medium (2)</option>
                                    <option value="3">Hard (3)</option>
                                </select>
                            </div>
                            <div>
                                <label for="scenario-search" style="font-weight: bold; margin-bottom: 5px; display: block;">Search</label>
                                <input type="text" id="scenario-search" placeholder="Search scenarios..." 
                                       style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
                            </div>
                            <div>
                                <button type="button" onclick="applyGameScenarioFilters()" style="
                                    background: #007bff; 
                                    color: white; 
                                    padding: 8px 16px; 
                                    border: none; 
                                    border-radius: 4px; 
                                    cursor: pointer;
                                ">Filter</button>
                                <button type="button" onclick="clearGameScenarioFilters()" style="
                                    background: #6c757d; 
                                    color: white; 
                                    padding: 8px 16px; 
                                    border: none; 
                                    border-radius: 4px; 
                                    cursor: pointer;
                                    margin-left: 5px;
                                ">Clear</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Scenarios Table -->
                <div style="border: 1px solid #e0e0e0; border-radius: 8px; background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                    <div style="background: #f8f9fa; padding: 15px; border-bottom: 1px solid #e0e0e0; border-radius: 8px 8px 0 0;">
                        <h6 style="margin: 0; font-weight: bold; color: #007bff;">Game Scenarios</h6>
                    </div>
                    <div style="padding: 20px;">
                        <div style="overflow-x: auto;">
                            <table id="scenarios-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);">
                                <thead>
                                    <tr>
                                        <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Name</th>
                                        <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Game Type</th>
                                        <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Difficulty</th>
                                        <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Max Score</th>
                                        <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Time Limit</th>
                                        <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Status</th>
                                        <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="scenarios-tbody">
                                    <!-- Dynamic content loaded via AJAX -->
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- Scenarios Pagination -->
                        <div class="pagination-controls" style="margin-top: 20px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;">
                            <div class="pagination-info" style="color: #374151; font-size: 14px;">
                                <span id="scenarios-pagination-info">Showing scenarios</span>
                            </div>
                            <div class="pagination-center" style="display: flex; justify-content: center; flex: 1;">
                                <div class="pagination-buttons" id="scenarios-pagination" style="display: inline-flex; gap: 5px; align-items: center;">
                                    <!-- Dynamic pagination loaded via AJAX -->
                                </div>
                            </div>
                            <div class="pagination-per-page" style="display: flex; align-items: center; gap: 8px; color: #374151; font-size: 14px;">
                                <label>Show per page:</label>
                                <select id="scenariosPerPageSelector" style="padding: 6px 10px; border: 1px solid #d1d5db; border-radius: 4px; background: white; font-size: 14px;">
                                    <option value="20" selected>20</option>
                                    <option value="50">50</option>
                                    <option value="100">100</option>
                                    <option value="-1">Alle</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Game Sessions Analytics -->
            <div id="sessions-subtab" class="games-subtab-content">
                <div style="text-align: center; padding: 40px;">
                    <h4>Game Sessions Analytics</h4>
                    <p>View and analyze game session data, user performance, and gameplay statistics.</p>
                    <p style="color: #6c757d;">Feature coming soon...</p>
                </div>
            </div>

            <!-- Game Analytics -->
            <div id="analytics-subtab" class="games-subtab-content">
                <div style="text-align: center; padding: 40px;">
                    <h4>Advanced Game Analytics</h4>
                    <p>Detailed analytics, A/B testing results, and performance metrics.</p>
                    <p style="color: #6c757d;">Feature coming soon...</p>
                </div>
            </div>
        </div>

        <!-- XP Rewards Management Tab -->
        <div id="xprewards-tab" class="gamification-tab-content">
            <!-- XP Statistics -->
            <div class="stats-container" style="margin-bottom: 20px;">
                <div class="stat-card">
                    <h3 data-stat="xp_total_awarded">0</h3>
                    <p>Total XP Awarded</p>
                </div>
                <div class="stat-card">
                    <h3 data-stat="xp_transactions">0</h3>
                    <p>Total Transactions</p>
                </div>
                <div class="stat-card">
                    <h3 data-stat="xp_avg_level">0</h3>
                    <p>Avg User Level</p>
                </div>
                <div class="stat-card">
                    <h3 data-stat="xp_active_users">0</h3>
                    <p>Users with XP</p>
                </div>
            </div>

            <!-- XP Rewards Controls -->
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3 style="margin: 0;">XP Rewards Configuration</h3>
                <div style="display: flex; gap: 10px;">
                    <button onclick="resetXPDefaults()" class="btn" style="
                        background: #ffc107; 
                        color: #000; 
                        padding: 8px 16px; 
                        border: none; 
                        border-radius: 4px; 
                        cursor: pointer;
                    ">
                        <i class="fas fa-undo"></i> Reset Defaults
                    </button>
                    <button onclick="saveXPRewards()" class="btn" style="
                        background: #28a745; 
                        color: white; 
                        padding: 8px 16px; 
                        border: none; 
                        border-radius: 4px; 
                        cursor: pointer;
                    ">
                        <i class="fas fa-save"></i> Save Changes
                    </button>
                </div>
            </div>

            <!-- XP Rewards Table -->
            <div style="border: 1px solid #e0e0e0; border-radius: 8px; background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                <div style="background: #f8f9fa; padding: 15px; border-bottom: 1px solid #e0e0e0; border-radius: 8px 8px 0 0;">
                    <h6 style="margin: 0; font-weight: bold; color: #007bff;">XP Reward Configuration</h6>
                </div>
                <div style="padding: 20px;">
                    <div style="overflow-x: auto;">
                        <table id="xp-rewards-table" style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);">
                            <thead>
                                <tr>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Reward Type</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Base Value</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Scaling Factor</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Max Value</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Description</th>
                                    <th style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); color: white; font-weight: 600; text-align: left; padding: 12px 16px; border-bottom: 2px solid #1e40af;">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="xp-rewards-tbody">
                                <!-- Dynamic content loaded via AJAX -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Include all modal templates -->
{% include 'admin/modals/tournament_modal.html' %}
{% include 'admin/modals/daily_challenge_modal.html' %}
{% include 'admin/modals/achievement_modal.html' %}

<style>
/* Gamification Tab Styles */
.gamification-tabs {
    display: flex;
    gap: 5px;
    margin-bottom: 20px;
}

.gamification-tab {
    padding: 12px 20px;
    background: #f8f9fa;
    border: 1px solid #dee2e6;
    border-bottom: none;
    border-radius: 6px 6px 0 0;
    color: #495057;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.3s ease;
}

.gamification-tab:hover {
    background: #e9ecef;
    color: #007bff;
}

.gamification-tab.active {
    background: #007bff;
    color: white;
    border-color: #007bff;
}

.gamification-tab-content {
    display: none;
}

.gamification-tab-content.active {
    display: block;
}

/* Statistics card improvements */
.stats-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.stat-card {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    text-align: center;
    border-left: 4px solid #10b981;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.stat-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.stat-card h3 {
    font-size: 2rem;
    font-weight: bold;
    color: white;
    margin: 0 0 8px 0;
}

.stat-card p {
    color: rgba(255, 255, 255, 0.9);
    font-size: 0.9rem;
    margin: 0;
    font-weight: 500;
}

/* Games subtab styles */
.games-subtabs {
    display: flex;
    gap: 5px;
    margin-bottom: 20px;
}

.games-subtab {
    padding: 8px 16px;
    background: #f8f9fa;
    border: 1px solid #dee2e6;
    border-bottom: none;
    border-radius: 4px 4px 0 0;
    color: #495057;
    cursor: pointer;
    font-weight: 500;
    font-size: 14px;
    transition: all 0.3s ease;
}

.games-subtab:hover {
    background: #e9ecef;
    color: #007bff;
}

.games-subtab.active {
    background: #007bff;
    color: white;
    border-color: #007bff;
}

.games-subtab-content {
    display: none;
}

.games-subtab-content.active {
    display: block;
}

/* Difficulty badge styles */
.difficulty-badge.difficulty-1 {
    background: #10b981;
    color: white;
}

.difficulty-badge.difficulty-2 {
    background: #f59e0b;
    color: white;
}

.difficulty-badge.difficulty-3 {
    background: #ef4444;
    color: white;
}

/* Status badge styles */
.status-badge.active {
    background: #10b981;
    color: white;
}

.status-badge.inactive {
    background: #6b7280;
    color: white;
}
</style>

<script>
// Initialize gamification section
document.addEventListener('DOMContentLoaded', function() {
    if (document.getElementById('gamificationSection')) {
        // Load initial data when gamification section becomes active
        loadGamificationOverview();
    }
});

// Tab management
function showGamificationTab(tabName) {
    // Hide all tab contents
    document.querySelectorAll('.gamification-tab-content').forEach(content => {
        content.classList.remove('active');
    });
    
    // Remove active class from all tabs
    document.querySelectorAll('.gamification-tab').forEach(tab => {
        tab.classList.remove('active');
    });
    
    // Show selected tab content
    document.getElementById(tabName + '-tab').classList.add('active');
    
    // Add active class to clicked tab
    document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
    
    // Load data for the selected tab
    switch(tabName) {
        case 'tournaments':
            loadTournamentData();
            loadTournamentStats();
            break;
        case 'challenges':
            loadDailyChallengeData();
            loadDailyChallengeStats();
            break;
        case 'achievements':
            loadAchievementData();
            loadAchievementStats();
            break;
        case 'games':
            loadGamesData();
            loadGamesStats();
            break;
        case 'xprewards':
            loadXPRewardsData();
            loadXPRewardsStats();
            break;
    }
}

// Load gamification overview statistics
function loadGamificationOverview() {
    fetch('/admin/api/gamification/overview')
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                const overview = data.overview;
                
                // Update main overview stats
                document.querySelector('[data-stat="total_tournaments"]').textContent = overview.tournaments.total;
                document.querySelector('[data-stat="total_challenges"]').textContent = overview.challenges.total;
                document.querySelector('[data-stat="total_achievements"]').textContent = overview.achievements.total;
                document.querySelector('[data-stat="gamified_users"]').textContent = overview.users.gamified_users;
                
                // Update tournament tab stats
                document.querySelector('[data-stat="tournaments_total"]').textContent = overview.tournaments.total;
                document.querySelector('[data-stat="tournaments_active"]').textContent = overview.tournaments.active;
                document.querySelector('[data-stat="tournaments_participants"]').textContent = overview.tournaments.participants;
                
                // Update challenge tab stats
                document.querySelector('[data-stat="challenges_total"]').textContent = overview.challenges.total;
                document.querySelector('[data-stat="challenges_active"]').textContent = overview.challenges.active_today;
                
                // Update achievement tab stats
                document.querySelector('[data-stat="achievements_total"]').textContent = overview.achievements.total;
                document.querySelector('[data-stat="achievements_earned"]').textContent = overview.achievements.total_earned;
                
                // Update XP tab stats
                document.querySelector('[data-stat="xp_total_awarded"]').textContent = overview.xp.total_awarded.toLocaleString();
                document.querySelector('[data-stat="xp_avg_level"]').textContent = overview.xp.avg_user_level;
            }
        })
        .catch(error => console.error('Error loading gamification overview:', error));
}

function refreshGamificationOverview() {
    loadGamificationOverview();
    // Also refresh the current active tab
    const activeTab = document.querySelector('.gamification-tab.active').dataset.tab;
    showGamificationTab(activeTab);
}

// Placeholder functions for individual sections - these will be implemented in the dedicated JS file
function loadTournamentData() { console.log('Loading tournament data...'); }
function loadTournamentStats() { console.log('Loading tournament stats...'); }
function loadDailyChallengeData() { console.log('Loading challenge data...'); }
function loadDailyChallengeStats() { console.log('Loading challenge stats...'); }
function loadAchievementData() { console.log('Loading achievement data...'); }
function loadAchievementStats() { console.log('Loading achievement stats...'); }
function loadGamesData() { loadGameScenariosData(); }
function loadGamesStats() { loadGameScenariosStats(); }
function loadXPRewardsData() { console.log('Loading XP rewards data...'); }
function loadXPRewardsStats() { console.log('Loading XP rewards stats...'); }

// Modal functions - placeholders
function openTournamentModal() { console.log('Open tournament modal'); }
function openDailyChallengeModal() { console.log('Open challenge modal'); }
function openAchievementModal() { console.log('Open achievement modal'); }

// Filter functions - placeholders
function applyTournamentFilters() { console.log('Apply tournament filters'); }
function clearTournamentFilters() { console.log('Clear tournament filters'); }
function applyDailyChallengeFilters() { console.log('Apply challenge filters'); }
function clearDailyChallengeFilters() { console.log('Clear challenge filters'); }
function applyAchievementFilters() { console.log('Apply achievement filters'); }
function clearAchievementFilters() { console.log('Clear achievement filters'); }

// Games management functions
function loadGameScenariosData() {
    fetch('/admin/api/games/scenarios')
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                updateGameScenariosTable(data.scenarios);
            }
        })
        .catch(error => console.error('Error loading game scenarios:', error));
}

function loadGameScenariosStats() {
    fetch('/admin/api/games/stats')
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                const stats = data.stats;
                document.querySelector('[data-stat="games_total"]').textContent = stats.games_total || 0;
                document.querySelector('[data-stat="games_active"]').textContent = stats.games_active || 0;
                document.querySelector('[data-stat="game_scenarios_total"]').textContent = stats.scenarios_total || 0;
                document.querySelector('[data-stat="game_sessions_today"]').textContent = stats.sessions_today || 0;
            }
        })
        .catch(error => console.error('Error loading game stats:', error));
}

function updateGameScenariosTable(scenarios) {
    const tbody = document.getElementById('scenarios-tbody');
    tbody.innerHTML = '';
    
    scenarios.forEach(scenario => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td style="padding: 12px 16px; border-bottom: 1px solid #f3f4f6;">
                <strong>${scenario.name}</strong>
                <br><small style="color: #6b7280;">${scenario.description || ''}</small>
            </td>
            <td style="padding: 12px 16px; border-bottom: 1px solid #f3f4f6;">
                <span class="game-type-badge" style="background: #3b82f6; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">
                    ${scenario.scenario_type || 'Unknown'}
                </span>
            </td>
            <td style="padding: 12px 16px; border-bottom: 1px solid #f3f4f6;">
                <span class="difficulty-badge difficulty-${scenario.difficulty_level}" style="padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: 600;">
                    ${getDifficultyText(scenario.difficulty_level)}
                </span>
            </td>
            <td style="padding: 12px 16px; border-bottom: 1px solid #f3f4f6;">${scenario.max_score || 'N/A'}</td>
            <td style="padding: 12px 16px; border-bottom: 1px solid #f3f4f6;">${formatTimeLimit(scenario.time_limit_seconds)}</td>
            <td style="padding: 12px 16px; border-bottom: 1px solid #f3f4f6;">
                <span class="status-badge ${scenario.is_active ? 'active' : 'inactive'}" style="padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: 600;">
                    ${scenario.is_active ? 'Active' : 'Inactive'}
                </span>
            </td>
            <td style="padding: 12px 16px; border-bottom: 1px solid #f3f4f6;">
                <button onclick="editGameScenario(${scenario.id})" style="background: #10b981; color: white; border: none; padding: 6px 12px; border-radius: 4px; margin-right: 5px; cursor: pointer;">
                    <i class="fas fa-edit"></i>
                </button>
                <button onclick="toggleScenarioStatus(${scenario.id}, ${scenario.is_active})" style="background: ${scenario.is_active ? '#f59e0b' : '#10b981'}; color: white; border: none; padding: 6px 12px; border-radius: 4px; margin-right: 5px; cursor: pointer;">
                    <i class="fas fa-${scenario.is_active ? 'pause' : 'play'}"></i>
                </button>
                <button onclick="deleteGameScenario(${scenario.id})" style="background: #ef4444; color: white; border: none; padding: 6px 12px; border-radius: 4px; cursor: pointer;">
                    <i class="fas fa-trash"></i>
                </button>
            </td>
        `;
        tbody.appendChild(row);
    });
}

function getDifficultyText(level) {
    switch(level) {
        case 1: return 'Easy';
        case 2: return 'Medium';
        case 3: return 'Hard';
        default: return 'Unknown';
    }
}

function formatTimeLimit(seconds) {
    if (!seconds) return 'No limit';
    const minutes = Math.floor(seconds / 60);
    const remainingSeconds = seconds % 60;
    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;
}

function showGamesSubtab(subtabName) {
    // Hide all subtab contents
    document.querySelectorAll('.games-subtab-content').forEach(content => {
        content.classList.remove('active');
    });
    
    // Remove active class from all subtabs
    document.querySelectorAll('.games-subtab').forEach(tab => {
        tab.classList.remove('active');
    });
    
    // Show selected subtab content
    document.getElementById(subtabName + '-subtab').classList.add('active');
    
    // Add active class to clicked subtab
    document.querySelector(`[data-subtab="${subtabName}"]`).classList.add('active');
}

function openGameScenarioModal() {
    // Placeholder for scenario creation modal
    alert('Game Scenario creation modal - Coming soon!');
}

function editGameScenario(scenarioId) {
    // Placeholder for scenario editing
    alert(`Edit scenario ${scenarioId} - Coming soon!`);
}

function toggleScenarioStatus(scenarioId, currentStatus) {
    fetch(`/admin/api/games/scenarios/${scenarioId}/toggle`, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'X-CSRFToken': AdminPagination.getCSRFToken()
        }
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            loadGameScenariosData(); // Reload table
            AdminUtils.showToast(data.message || 'Status updated successfully', 'success');
        } else {
            AdminUtils.showToast(data.error || 'Failed to update status', 'error');
        }
    })
    .catch(error => {
        console.error('Error toggling scenario status:', error);
        AdminUtils.showToast('Error updating status', 'error');
    });
}

function deleteGameScenario(scenarioId) {
    if (confirm('Are you sure you want to delete this scenario? This action cannot be undone.')) {
        fetch(`/admin/api/games/scenarios/${scenarioId}`, {
            method: 'DELETE',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': AdminPagination.getCSRFToken()
            }
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                loadGameScenariosData(); // Reload table
                AdminUtils.showToast(data.message || 'Scenario deleted successfully', 'success');
            } else {
                AdminUtils.showToast(data.error || 'Failed to delete scenario', 'error');
            }
        })
        .catch(error => {
            console.error('Error deleting scenario:', error);
            AdminUtils.showToast('Error deleting scenario', 'error');
        });
    }
}

function applyGameScenarioFilters() {
    // Placeholder for filtering
    console.log('Apply game scenario filters');
}

function clearGameScenarioFilters() {
    // Clear filter inputs
    document.getElementById('scenario-type-filter').value = '';
    document.getElementById('scenario-difficulty-filter').value = '';
    document.getElementById('scenario-search').value = '';
    loadGameScenariosData();
}

// XP management functions - placeholders
function resetXPDefaults() { console.log('Reset XP defaults'); }
function saveXPRewards() { console.log('Save XP rewards'); }
</script>
