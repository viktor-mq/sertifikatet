<!-- Achievement Modal -->
<div id="achievementModalOverlay" class="question-modal-overlay" style="display: none;">
    <div class="question-modal">
        <div class="modal-header">
            <h2 class="modal-title">
                <span id="achievementModalIcon">üèÖ</span>
                <span id="achievementModalTitleText">Create Achievement</span>
            </h2>
            <button class="modal-close" onclick="closeAchievementModal()">√ó</button>
        </div>

        <div class="modal-body">
            <div id="achievementModalMessage"></div>

            <form id="achievementModalForm" onsubmit="saveAchievement(event)">
                <input type="hidden" id="achievementModalId" name="achievement_id">

                <!-- Achievement Name -->
                <div class="form-group">
                    <label for="achievementModalName">Achievement Name:</label>
                    <input type="text" id="achievementModalName" name="name" required 
                           placeholder="Enter achievement name...">
                </div>

                <!-- Description -->
                <div class="form-group">
                    <label for="achievementModalDescription">Description:</label>
                    <textarea id="achievementModalDescription" name="description" required 
                              placeholder="Describe what users need to do to earn this achievement..."></textarea>
                </div>

                <!-- Category and Points -->
                <div class="form-row">
                    <div class="form-group">
                        <label for="achievementModalCategory">Category:</label>
                        <select id="achievementModalCategory" name="category" required>
                            <option value="">Select Category</option>
                            <option value="quiz">Quiz</option>
                            <option value="streak">Streak</option>
                            <option value="learning">Learning</option>
                            <option value="social">Social</option>
                            <option value="mastery">Mastery</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="achievementModalPoints">XP Points:</label>
                        <input type="number" id="achievementModalPoints" name="points" 
                               min="10" value="100" required placeholder="100">
                    </div>
                </div>

                <!-- Requirement Type and Value -->
                <div class="form-row">
                    <div class="form-group">
                        <label for="achievementModalRequirementType">Requirement Type:</label>
                        <select id="achievementModalRequirementType" name="requirement_type" required>
                            <option value="">Select Type</option>
                            <option value="quiz_count">Quiz Count</option>
                            <option value="correct_answers">Correct Answers</option>
                            <option value="streak_days">Streak Days</option>
                            <option value="perfect_scores">Perfect Scores</option>
                            <option value="category_mastery">Category Mastery</option>
                            <option value="level_reached">Level Reached</option>
                            <option value="xp_earned">XP Earned</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="achievementModalRequirementValue">Requirement Value:</label>
                        <input type="number" id="achievementModalRequirementValue" name="requirement_value" 
                               min="1" required placeholder="e.g., 10">
                        <small style="color: #6c757d; font-size: 12px;">Number required to unlock achievement</small>
                    </div>
                </div>

                <!-- Icon Selection -->
                <div class="form-group">
                    <label for="achievementModalIcon">Icon Filename (Optional):</label>
                    <input type="text" id="achievementModalIcon" name="icon_filename" 
                           placeholder="e.g., trophy.png">
                    <small style="color: #6c757d; font-size: 12px;">Icon should be uploaded to /static/images/achievements/</small>
                </div>

                <!-- Form Actions -->
                <div class="form-actions" style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px;">
                    <button type="button" onclick="closeAchievementModal()" style="
                        background: #6c757d; 
                        color: white; 
                        padding: 8px 16px; 
                        border: none; 
                        border-radius: 4px; 
                        cursor: pointer;
                    ">Cancel</button>
                    <button type="submit" style="
                        background: #007bff; 
                        color: white; 
                        padding: 8px 16px; 
                        border: none; 
                        border-radius: 4px; 
                        cursor: pointer;
                    ">
                        <span id="achievementModalSaveText">Create Achievement</span>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
