<!-- templates/auth/reguster.html-->
{% extends "base.html" %}

{% block title %}Registrer deg - TeoriTest{% endblock %}

{% block content %}
<section class="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-md w-full space-y-8">
        <!-- Logo and Title -->
        <div class="text-center">
            <div class="text-6xl mb-4">游꿉</div>
            <h2 class="text-4xl font-bold">
                <span class="bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">
                    Bli med oss!
                </span>
            </h2>
            <p class="mt-2 text-gray-400">
                Start din reise mot f칮rerkortet i dag
            </p>
        </div>

        <!-- Registration Form -->
        <form class="mt-8 space-y-6" method="POST">
            <div class="glass rounded-2xl p-8">
                <div class="space-y-5">
                    <!-- Full Name -->
                    <div>
                        <label for="full_name" class="block text-sm font-medium mb-2">
                            Fullt navn
                        </label>
                        <input id="full_name" name="full_name" type="text" required
                               class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"
                               placeholder="Ola Nordmann">
                    </div>

                    <!-- Username -->
                    <div>
                        <label for="username" class="block text-sm font-medium mb-2">
                            Brukernavn
                        </label>
                        <input id="username" name="username" type="text" required
                               class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"
                               placeholder="Velg et unikt brukernavn">
                        <p class="mt-1 text-xs text-gray-500">Dette bruker du for 친 logge inn</p>
                    </div>

                    <!-- Email -->
                    <div>
                        <label for="email" class="block text-sm font-medium mb-2">
                            E-postadresse
                        </label>
                        <input id="email" name="email" type="email" required
                               class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"
                               placeholder="ola@eksempel.no">
                    </div>

                    <!-- Password -->
                    <div>
                        <label for="password" class="block text-sm font-medium mb-2">
                            Passord
                        </label>
                        <input id="password" name="password" type="password" required
                               class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"
                               placeholder="Minst 8 tegn">
                        <div class="mt-2">
                            <div class="flex items-center space-x-2">
                                <div class="flex-1 bg-gray-700 rounded-full h-2">
                                    <div id="password-strength" class="h-2 rounded-full transition-all duration-300"></div>
                                </div>
                                <span id="strength-text" class="text-xs text-gray-500">Passordstyrke</span>
                            </div>
                        </div>
                    </div>

                    <!-- Confirm Password -->
                    <div>
                        <label for="confirm_password" class="block text-sm font-medium mb-2">
                            Bekreft passord
                        </label>
                        <input id="confirm_password" name="confirm_password" type="password" required
                               class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all"
                               placeholder="Skriv passordet p친 nytt">
                    </div>

                    <!-- Terms and Conditions -->
                    <div class="flex items-start">
                        <input id="terms" name="terms" type="checkbox" required
                               class="mt-1 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-700 rounded bg-gray-800">
                        <label for="terms" class="ml-2 block text-sm text-gray-300">
                            Jeg godtar <a href="#" class="text-purple-400 hover:text-purple-300">vilk친rene</a> og 
                            <a href="#" class="text-purple-400 hover:text-purple-300">personvernerkl칝ringen</a>
                        </label>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="mt-6">
                    <button type="submit"
                            class="w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-white bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all hover-card">
                        Opprett konto
                    </button>
                </div>

                <!-- Benefits -->
                <div class="mt-6 bg-gray-800/50 rounded-lg p-4">
                    <h3 class="text-sm font-semibold mb-2">Med gratis konto f친r du:</h3>
                    <ul class="space-y-1 text-xs text-gray-400">
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-400 mr-2"></i>
                            50 gratis sp칮rsm친l hver dag
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-400 mr-2"></i>
                            Personlig fremgangssporing
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-check text-green-400 mr-2"></i>
                            Tilgang til grunnleggende funksjoner
                        </li>
                    </ul>
                </div>

                <!-- Login Link -->
                <div class="mt-6 text-center">
                    <span class="text-gray-400">Har du allerede en konto?</span>
                    <a href="{{ url_for('auth.login') }}" class="ml-1 font-medium text-purple-400 hover:text-purple-300 transition">
                        Logg inn her
                    </a>
                </div>
            </div>
        </form>
    </div>
</section>

<script>
// Password strength indicator
document.getElementById('password').addEventListener('input', function(e) {
    const password = e.target.value;
    const strengthBar = document.getElementById('password-strength');
    const strengthText = document.getElementById('strength-text');
    
    let strength = 0;
    if (password.length >= 8) strength++;
    if (password.match(/[a-z]/) && password.match(/[A-Z]/)) strength++;
    if (password.match(/[0-9]/)) strength++;
    if (password.match(/[^a-zA-Z0-9]/)) strength++;
    
    const colors = ['bg-red-500', 'bg-orange-500', 'bg-yellow-500', 'bg-green-500'];
    const texts = ['Svakt', 'Middels', 'Bra', 'Sterkt'];
    
    strengthBar.className = `h-2 rounded-full transition-all duration-300 ${colors[strength] || 'bg-gray-700'}`;
    strengthBar.style.width = `${(strength + 1) * 25}%`;
    strengthText.textContent = texts[strength] || 'Passordstyrke';
    strengthText.className = `text-xs ${colors[strength] ? colors[strength].replace('bg-', 'text-') : 'text-gray-500'}`;
});

// Confirm password validation
document.getElementById('confirm_password').addEventListener('input', function(e) {
    const password = document.getElementById('password').value;
    const confirmPassword = e.target.value;
    
    if (confirmPassword && password !== confirmPassword) {
        e.target.setCustomValidity('Passordene matcher ikke');
    } else {
        e.target.setCustomValidity('');
    }
});
</script>
{% endblock %}