#!/usr/bin/env python3\n\"\"\"\nTest Stripe Integration\nQuick test to verify that Stripe service works correctly\n\"\"\"\n\nimport sys\nimport os\nsys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))\n\nfrom app import create_app, db\nfrom app.models import User\nfrom app.services.stripe_service import StripeService\nfrom app.services.payment_service import SubscriptionService\n\ndef test_stripe_service():\n    \"\"\"Test basic Stripe service functionality\"\"\"\n    print(\"üß™ Testing Stripe Service Integration...\")\n    print(\"=\" * 50)\n    \n    app = create_app()\n    \n    with app.app_context():\n        try:\n            # Initialize Stripe service\n            stripe_service = StripeService()\n            print(\"‚úÖ StripeService initialized successfully\")\n            \n            # Test getting a user (you might need to create one first)\n            test_user = User.query.first()\n            if not test_user:\n                print(\"‚ö†Ô∏è  No users found in database. Create a user first to test fully.\")\n                return\n            \n            print(f\"‚úÖ Found test user: {test_user.email}\")\n            \n            # Test creating a customer\n            customer_id = stripe_service.create_customer(test_user)\n            if customer_id:\n                print(f\"‚úÖ Created Stripe customer: {customer_id}\")\n            else:\n                print(\"‚ùå Failed to create Stripe customer\")\n                \n            # Test subscription service integration\n            current_plan = SubscriptionService.get_user_plan(test_user.id)\n            print(f\"‚úÖ User's current plan: {current_plan}\")\n            \n            features = SubscriptionService.get_plan_features(current_plan)\n            print(f\"‚úÖ Plan features: {list(features.keys())}\")\n            \n            print(\"\\n\" + \"=\" * 50)\n            print(\"üéâ All basic tests passed!\")\n            print(\"\\nNext steps to test payment flow:\")\n            print(\"1. Run the app: python run.py\")\n            print(\"2. Navigate to /subscription/plans\")\n            print(\"3. Try upgrading to Premium plan\")\n            print(\"4. Use test card: 4000 0056 4000 0008\")\n            \n        except Exception as e:\n            print(f\"‚ùå Error testing Stripe service: {str(e)}\")\n            import traceback\n            traceback.print_exc()\n\nif __name__ == '__main__':\n    test_stripe_service()\n